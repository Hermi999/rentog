- own_listing_class = ""
- if listing.author.id == @current_user.id
  - own_listing_class = "own_listing"


- frontpage_fragment_cache("grid_item", listing) do
  .home-fluid-thumbnail-grid-item
    %div.listing_wrapper{:class => "#{own_listing_class}"}
      / Listing image
      = render :partial => "layouts/grid_item_listing_image", :locals => {:listing => listing, :modifier_class => "", :modifier_price => ""}

      - if @restrictedMarketplace
        / Listing author details
        .home-fluid-thumbnail-grid-author
          .home-fluid-thumbnail-grid-author-avatar
            = link_to(person_path(id: listing.author.username)) do
              = image_tag(listing.author.avatar.thumb || missing_avatar(:thumb), :class => "home-fluid-thumbnail-grid-author-avatar-image")
          = link_to(person_path(id: listing.author.username), :class => "home-fluid-thumbnail-grid-author-name") do
            = PersonViewUtils::person_entity_display_name(listing.author, @current_community.name_display_type)
      - else
        - cond = get_listing_condition(listing)
        .home-fluid-thumbnail-grid-details
          .row
            - if cond
              .col-6{:style => "padding: 0px"}
                .grid-item-type.grid-item-details{:class => "grid-item-type-" + cond[:condition].to_s}= cond[:title]

            .col-6{:style => "padding: 0px"}
              .grid-item-share.grid-item-details Teilen
